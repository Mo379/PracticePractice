{% extends 'dashboard/base.html'%}
{%load static%}
{%load general%}
{%block page_name%}
Specifications
{%endblock%}
{%block content%}
{%include 'dashboard/general/items/specspec_actions.html'%}
{%definevar 'specification' as alert_loc%}
{%include 'base/alert.html'%}

<div class="mb-4">
	<div class="card-body">
		<div class="card shadow mb-4">
			<div class="card-header py-3 d-flex flex-row align-items-center justify-content-between">
				<h5 class="h4 mb-1 text-primary font-weight-bold">
					MySpecifications
				</h5>
					
				<div class="dropdown no-arrow">
					<a class="dropdown-toggle" href="#" role="button" id="dropdownMenuLink"
						data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
						<i class="fas fa-ellipsis-v fa-sm fa-fw text-primary-400"></i>
					</a>
					<div class="dropdown-menu dropdown-menu-right shadow animated--fade-in"
						aria-labelledby="dropdownMenuLink">
						<div class="dropdown-header">Actions:</div>
						<a type="button" class="dropdown-item" data-toggle="modal" data-target="#CrateSpecModal">
							Create New Specification
						</a>
						<a type="button" class="dropdown-item text-danger" data-toggle="modal" data-target="#DeleteSpecificationModal">
							Delete Specification
						</a>
					</div>
				</div>
			</div>
			  {%definevar context.specifications as specs%}
			  {%for level in specs%}
			    <div class="card-body">
				    <div class='ml-1 mb-3' style='border-left: 1px solid black;padding-left: 5px;'>
				    <h3 class="card-title">{{level}}</h3>
				    {%for subject in specs|index:level%}
				    <div class='ml-2 mb-3' style='border-left: 2px dashed silver;padding-left: 5px;'>
				    <h4 class="card-title">{{subject}}</h4>
					    {%for board in specs|index:level|index:subject%}
					    <div class='ml-3 mb-3'style='border-left: 1px dashed black;padding-left: 5px;'>
					    <h5 class="card-title">{{board}}</h5>
						    {%for spec in specs|index:level|index:subject|index:board%}
							<a 
							href='{%url 'dashboard:specmoduel' spec.spec_level spec.spec_subject spec.spec_board spec.spec_name%}'
							class="mb-1 btn 
								{%if spec.spec_completion%}
								btn-primary
								{%else%}
								btn-danger
								{%endif%}
							">
								{%if spec.spec_completion%}
								<i class="bi bi-check-circle"></i>
								{%else%}
								<i class="bi bi bi-x-circle"></i>
								{%endif%}
								{{spec.spec_name}}
							</a>
						    {%endfor%}
					    </div>
					    {%endfor%}
				    </div>
				    {%endfor%}
				    </div>
			    </div>
			  {%endfor%}
		</div>
	</div>
</div>
{%endblock%}
