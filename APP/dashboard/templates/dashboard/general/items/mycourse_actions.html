{%load general%}
<div class="modal fade" id="CourseInformationModal_{{course.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Update Course Information</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
		<form class="px-3 py-3"  action="{%url 'content:_updatecourseinformation'%}" 
			    method="POST" role="form" enctype="multipart/form-data">
			{%csrf_token%}


			<input 
				type='hidden' 
				name='course_id' 
				value='{{course.id}}'
			/>


			<label for="new_name">Give a New Course Name: </label>
			<input 
				type='text' 
				name='new_name' 
			        class='form-control'
				placeholder='Rename Course'
				value='{{course.course_name}}'
			/><br>

			<label class="form-label" for="customFile">Give a course thumbnail.</label>
			<input type="file" id="customFile" name='course_thmbnail' /><br><br>


			<label for="course_level">Select a Course Level:</label>
			<select name="course_level" id="course_level" class='form-control'>
			  <option value="Beginner"
				  {%if course.course_level == 'Beginner'%}
				  selected
				  {%endif%}
			  >
			  	Beginner
			  </option>
			  <option value="Intermediate"
				  {%if course.course_level == 'Intermediate'%}
				  selected
				  {%endif%}
			  >
			  	Intermediate
			  </option>
			  <option value="Advanced"
				  {%if course.course_level == 'Advanced'%}
				  selected
				  {%endif%}
			  >
			  	Advanced
			  </option>
			</select><br> 
			<button type= 'submit' class='btn btn-primary mb-2' > Update </button><br><br>
		</form>
		<a class="btn btn-info mb-1" data-toggle="modal" data-target="#PublishVersionModal_{{course.id}}">Create a new version</a><br>
		<a class="btn btn-success mb-1" data-toggle="modal" data-target="#PublishCourseModal_{{course.id}}">Publish course</a><br>
		<a class="btn btn-danger mb-1" data-toggle="modal" data-target="#UnPublishCourseModal_{{course.id}}">Unpublish course</a>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="PublishVersionModal_{{course.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Create a new course Version</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
		<form class="px-3 py-3"  action="{%url 'content:_createversion'%}" method="POST" role="form">
			{%csrf_token%}
			<input 
				type='hidden' 
				name='course_id' 
				value='{{course.id}}'
			/>
			<label for="version_name">Choose a version name:</label>
			<input 
				type='text' 
				name='version_name' 
			        class='form-control mb-3'
			        id='version_name'
				placeholder='Version Name'
			        value='New Update'
			/>
			<label for="version_note">Give a version Note:</label>
	    		<textarea class="form-control mb-2" id="message-text" name='version_note' rows='10'>A short description of the initial course verion.</textarea>
			<br><br>
			<button type= 'submit' class='btn btn-primary mb-2' style='float-right'> Create </button>
		</form>
      </div>
    </div>
  </div>
</div>


<div class="modal fade" id="PublishCourseModal_{{course.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Publish course</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
		<form class="px-3 py-3"  action="{%url 'content:_publishcourse'%}" method="POST" role="form">
			{%csrf_token%}
			<input 
				type='hidden' 
				name='course_id' 
				value='{{course.id}}'
			/>
			<button type= 'submit' class='btn btn-primary mb-2' style='float-right'> Publish Now!</button>
		</form>
      </div>
    </div>
  </div>
</div>



<div class="modal fade" id="UnPublishCourseModal_{{course.id}}" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">UnPublish course</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
		<form class="px-3 py-3"  action="{%url 'content:_unpublishcourse'%}" method="POST" role="form">
			{%csrf_token%}
			<input 
				type='hidden' 
				name='course_id' 
				value='{{course.id}}'
			/>
			<button type= 'submit' class='btn btn-danger mb-2' style='float-right'> UnPublish Now!</button>
		</form>
      </div>
    </div>
  </div>
</div>
