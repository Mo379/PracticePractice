{% extends 'base/base.html'%}
{%load general %}
{%load static %}

{%block page_name%}
	Questions
{%endblock%}

{%block title%}
{{context.title|field_name_to_label}} - {{context.sampl_object.q_level|field_name_to_label}} {{context.sampl_object.q_subject|field_name_to_label}} {{context.sampl_object.q_moduel|field_name_to_label}} Questions
{%endblock%}

{%block meta%}
<meta name="description" content="
{{context.title|field_name_to_label}} {{context.sampl_object.q_level|field_name_to_label}} {{context.sampl_object.q_subject|field_name_to_label}} practice questions, looking at {{context.sampl_object.q_moduel|field_name_to_label}}, including worked solutions, all in one place!
">
{%endblock%}

{%block content%}
{%include 'content/mathjax.html'%}

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="js/jquery-1.10.1.min.js"><\/script>')</script>





{%definevar context.questions as information%}
{%definevar context.spec as spec%}
{%definevar context.sampl_object as sample%}
{%definevar 'Question' as A_tag%}

<section class="py-5 " style='margin-bottom:250px;'>
    <div class="container">
	<a type="button" style='display:block;margin:auto;max-width: 200px;'class="btn btn-info mb-2" href='{%url 'dashboard:spectopic' spec.spec_level  spec.spec_subject spec.spec_board spec.spec_name sample.q_moduel sample.q_chapter%}'>
	<i class="bi bi-arrow-bar-left"></i> Go back</a><br>
	<h1 class="text-center pb-3 mb-4" style='font-size:24px;'>
	    {{context.sampl_object.q_chapter|field_name_to_label}}
	</h1><br>
	<p class="text-center pb-3 mb-4" style='font-size:12px;'>
	{{context.sampl_object.q_level|field_name_to_label}} Chapter questions, on {{context.sampl_object.q_moduel|field_name_to_label}}.
	</p>
	<div id='error-message' style='text-align:center; color:red;'></div>

	<nav class="nav nav-pills pricing-tab py-3 justify-content-center" style='margin-bottom:30px;'>
	    {%for A in information%}
	    <a class="nav-item nav-link" data-toggle="tab" href="#ref-{{A}}" id="id-{{A}}">{{A}}</a>
	    {%endfor%}
	</nav>
<br>

	<div class="tab-content" id="pricingTab">
        <hr class="sidebar-divider bg-dark">
            {%for A in information%}
	    <div class="tab-pane fade" id="ref-{{A}}" role="tabpanel" aria-labelledby="id-{{A}}">
		    <h2 style='font-size:16px;'>{{A_tag}}s difficulty {{A}}: </h2>
			<div class="row">
				<nav class="nav nav-pills pricing-tab py-3 justify-content-center" style='margin:auto;margin-bottom:30px;'>
				    {%for B in information|index:A%}
				    <a class="nav-item nav-link mr-1 mb-1" data-toggle="tab" href="#ref-{{A}}-{{B}}" 
					id="id-{{A}}-{{B}}" style='border: 1px solid black;'>{{B.q_number}}</a>
				    {%endfor%}
				</nav>
			</div>
			<div class="tab-content" id="pricingTab">
			    {%for B in information|index:A%}
			    <div class="tab-pane fade" id="ref-{{A}}-{{B}}" 
				role="tabpanel" aria-labelledby="id-{{A}}-{{B}}">
					<a style='display:block; margin:auto;width:70px;font-size:16px;'href="{%url 'content:editorquestion' spec.id B.id%}">
						<i class="bi bi-pencil-square"></i> Edit 
					</a>
					<div class="container col-9 text-justify" style='border-left:1px solid black;'>
						<div class='ml-1' style='border-left: 1px solid grey;'>
						    <div class='ml-1 mb-3' style='border-left: 2px dashed silver; padding-left:5px;'>
							Question: <br><br>
						    {{B|ToMarkdownQuestion:B.id|safe}}
							<br><br>Answer:<br><br>
						    {{B.q_answer}}
							<br><br>Marks: {{B.q_marks}}
						    </div>
						</div>
						<div style='border-bottom: 1px dashed silver;'></div>
					</div>
					<form class="p-4 border rounded" method="post" style='text-align:center;' action="{% url 'content:_author_confirmation_question'%}">
						    {% csrf_token %}
						    <input type="hidden" name="spec_id" value="{{ spec.id }}">
						    <input type="hidden" name="question_id" value="{{ B.id }}">
						    <div class="mb-3">
							<label>
							    <input type="checkbox" id="confirmationToggle" name="confirmationToggle" class="form-check-input"
								{%if B.author_confirmation%}
									checked
								{%endif%}
							    >
							    The content above is correct and has been cleared of any errors.
							</label>
						    </div>

						    <!-- Your other form fields can go here -->

						    <button type="submit" class="btn btn-primary" style='margin:auto;'>Confirm Content</button>
						    <span id="saving_indicator_question_{{B.id}}"> all saved</span>
					</form>
			    </div>
			    {%endfor%}
			</div>
	    </div>
            {%endfor%}
	</div>

    </div>
</section>








{%endblock%}
